(function() {
  var myp5;

  myp5 = new p5(function(p) {
    p.j = -1;
    p.cacheTriangle = '';
    p.img_copy = '';
    p.triangleSize = 350;
    p.triangleHeight = p.triangleSize * p.sqrt(3) / 2;
    p.triangles = [];
    p.cache = '';
    p.canvas = {};
    p.cnv = {};
    p.img = '';
    p.doGlitch = false;
    p.offset = 0;
    p.imgGlitch = '';
    p.doChangeImg = false;
    p.offsetChangeImg = 0;
    p.changeImgG = '';
    p.preload = function() {
      p.img = p.loadImage('media/bg.jpg');
    };
    p.setup = function() {
      p.initSetup();
      setInterval((function() {
        return p.setDoGlitch();
      }), 7000);
    };
    p.initSetup = function() {
      p.cnv = p.createCanvas(window.innerWidth, window.innerHeight);
      p.cache = new p.Cache();
      p.initTriangles();
      p.img_copy = p.createImage(p.triangleSize, p.triangleSize);
      p.cacheTriangle = p.createGraphics(p.triangleSize, p.triangleSize);
      p.cacheTriangle.strokeWeight(0);
      p.cacheTriangle.triangle(0, 0, p.triangleSize, 0, p.triangleSize / 2, p.triangleHeight);
      p.pixelDensity(1);
      p.imgGlitch = p.createImage(p.img.width, p.img.height);
    };
    p.setDoGlitch = function() {
      p.doGlitch = true;
      p.imgGlitch.copy(p.img, 0, 0, p.img.width, p.img.height, 0, 0, p.imgGlitch.width, p.imgGlitch.height);
    };
    p.glitch = function() {
      var draw, img;
      img = p.imgGlitch;
      draw = function() {
        var index, x, y;
        img.loadPixels();
        y = 0;
        while (y < img.height) {
          x = 0;
          while (x < img.width) {
            index = (x + y * img.width) * 4;
            if (img.pixels[index + 4] === void 0 || img.pixels[index + 9] === void 0) {
              img.pixels[index] = 0;
              img.pixels[index + 1] = 0;
              img.pixels[index + 2] = 0;
              img.pixels[index + 3] = 0;
            } else {
              img.pixels[index] = img.pixels[index + 4];
              img.pixels[index + 1] = img.pixels[index + 9];
            }
            x++;
          }
          y++;
        }
        return img.updatePixels();
      };
      draw();
      if (p.offset === 5) {
        p.doGlitch = false;
        p.offset = 0;
      }
    };
    p.draw = function() {
      var i, img;
      //p.print p.doChangeImg
      img = p.img;
      if (p.doGlitch) {
        p.offset += 1;
        p.glitch();
        img = p.imgGlitch;
      }
      //else
      p.cache.move();
      p.cache.cut(img);
      i = 0;
      while (i < p.triangles.length) {
        p.triangles[i].display();
        i++;
      }
      p.changeImg();
    };
    p.changeImg = function() {
      if (p.doChangeImg) {
        p.doGlitch = false;
        p.changeImgG.image(p.img_c, -p.img_c.width + p.offsetChangeImg, 0);
        //p.img.image p.img_c, 0, 0, 100, 100
        p.img = p.changeImgG;
        p.offsetChangeImg += 5;
        if ((p.offsetChangeImg - p.img_c.width) >= 0) {
          p.doChangeImg = false;
        }
      }
    };
    p.kTriangle = function(x, y, angle, scaleX, scaleY) {
      this.x = x;
      this.y = y;
      this.angle = angle;
      this.scaleX = scaleX;
      this.scaleY = scaleY;
      this.display = function() {
        p.push();
        p.translate(this.x, this.y);
        p.scale(this.scaleX, this.scaleY);
        p.rotate(this.angle);
        p.image(p.img_copy, 0, 0);
        p.pop();
      };
    };
    p.Cache = function() {
      this.x = (p.img.width - p.triangleSize) / 2;
      this.y = (p.img.height - p.triangleHeight) / 2;
      this.speedX = 0;
      this.speedY = 0;
      this.move = function() {
        var mx, my;
        mx = p.mouseX;
        my = p.mouseY;
        if (p.mouseX === 0) {
          mx = this.x;
          my = this.y;
        }
        this.speedX = (mx - this.x) / 20;
        this.speedY = (my - this.y) / 20;
        this.x += this.speedX;
        this.y += this.speedY;
      };
      this.cut = function(img) {
        var mx, my;
        mx = p.map(this.x, 0, p.width, 0, p.img.width - p.triangleSize);
        my = p.map(this.y, 0, p.height, 0, p.img.height - p.triangleHeight);
        p.img_copy.copy(img, mx, my, p.triangleSize, p.triangleSize, 0, 0, p.triangleSize, p.triangleSize);
        p.img_copy.mask(p.cacheTriangle);
      };
    };
    p.windowResized = function() {
      p.resizeCanvas(window.innerWidth, window.innerHeight);
      p.initSetup();
    };
    p.initTriangles = function() {
      var h, i;
      h = 0;
      while (h < p.ceil(p.height / p.triangleHeight / 2)) {
        i = 0;
        while (i < p.ceil(p.width / p.triangleSize / 3)) {
          p.triangles[++p.j] = new p.kTriangle(0 + 3 * p.triangleSize * i, 0 + 2 * p.triangleHeight * h, p.PI / 3, -1, 1);
          p.triangles[++p.j] = new p.kTriangle(0 + 3 * p.triangleSize * i, 0 + 2 * p.triangleHeight * h, 0, 1, 1);
          p.triangles[++p.j] = new p.kTriangle(p.triangleSize * 3 / 2 + 3 * p.triangleSize * i, p.triangleHeight + 2 * p.triangleHeight * h, -p.PI / 3, -1, 1);
          p.triangles[++p.j] = new p.kTriangle(p.triangleSize * 3 / 2 + 3 * p.triangleSize * i, p.triangleHeight + 2 * p.triangleHeight * h, p.PI / 3, -1, -1);
          p.triangles[++p.j] = new p.kTriangle(p.triangleSize * 3 / 2 + 3 * p.triangleSize * i, p.triangleHeight + 2 * p.triangleHeight * h, 0, 1, -1);
          p.triangles[++p.j] = new p.kTriangle(p.triangleSize * 3 + 3 * p.triangleSize * i, 0 + 2 * p.triangleHeight * h, -p.PI / 3, -1, -1);
          p.triangles[++p.j] = new p.kTriangle(3 * p.triangleSize + 3 * p.triangleSize * i, 0 + 2 * p.triangleHeight * h, p.PI / 3, -1, 1);
          p.triangles[++p.j] = new p.kTriangle(0 + 3 * p.triangleSize * i, p.triangleHeight * 2 + 2 * p.triangleHeight * h, p.PI / 3, -1, -1);
          p.triangles[++p.j] = new p.kTriangle(0 + 3 * p.triangleSize * i, p.triangleHeight * 2 + 2 * p.triangleHeight * h, 0, 1, -1);
          p.triangles[++p.j] = new p.kTriangle(p.triangleSize * 3 / 2 + 3 * p.triangleSize * i, p.triangleHeight + 2 * p.triangleHeight * h, -p.PI / 3, -1, -1);
          p.triangles[++p.j] = new p.kTriangle(p.triangleSize * 3 / 2 + 3 * p.triangleSize * i, p.triangleHeight + 2 * p.triangleHeight * h, p.PI / 3, -1, 1);
          p.triangles[++p.j] = new p.kTriangle(p.triangleSize * 3 / 2 + 3 * p.triangleSize * i, p.triangleHeight + 2 * p.triangleHeight * h, 0, 1, 1);
          p.triangles[++p.j] = new p.kTriangle(p.triangleSize * 3 + 3 * p.triangleSize * i, p.triangleHeight * 2 + 2 * p.triangleHeight * h, -p.PI / 3, -1, 1);
          p.triangles[++p.j] = new p.kTriangle(3 * p.triangleSize + 3 * p.triangleSize * i, p.triangleHeight * 2 + 2 * p.triangleHeight * h, p.PI / 3, -1, -1);
          i++;
        }
        h++;
      }
    };
    p5.Renderer2D._copyHelper = function(srcImage, sx, sy, sw, sh, dx, dy, dw, dh) {
      var s;
      if (srcImage instanceof p5.Image) {
        p.canvas = srcImage.canvas;
      } else if (srcImage instanceof p5.Graphics) {
        srcImage.loadPixels();
        p.canvas = srcImage.elt;
      }
      s = p.canvas.width / srcImage.width;
      this.drawingContext.drawImage(p.canvas, s * sx, s * sy, s * sw, s * sh, dx, dy, dw, dh);
    };
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiPGFub255bW91cz4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBOztFQUFBLElBQUEsR0FBTyxJQUFJLEVBQUosQ0FBTyxRQUFBLENBQUMsQ0FBRCxDQUFBO0lBQ1osQ0FBQyxDQUFDLENBQUYsR0FBTSxDQUFDO0lBQ1AsQ0FBQyxDQUFDLGFBQUYsR0FBa0I7SUFDbEIsQ0FBQyxDQUFDLFFBQUYsR0FBYTtJQUNiLENBQUMsQ0FBQyxZQUFGLEdBQWlCO0lBQ2pCLENBQUMsQ0FBQyxjQUFGLEdBQW1CLENBQUMsQ0FBQyxZQUFGLEdBQWlCLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBUCxDQUFqQixHQUEyQjtJQUM5QyxDQUFDLENBQUMsU0FBRixHQUFjO0lBQ2QsQ0FBQyxDQUFDLEtBQUYsR0FBVTtJQUNWLENBQUMsQ0FBQyxNQUFGLEdBQVcsQ0FBQTtJQUNYLENBQUMsQ0FBQyxHQUFGLEdBQVEsQ0FBQTtJQUNSLENBQUMsQ0FBQyxHQUFGLEdBQVE7SUFDUixDQUFDLENBQUMsUUFBRixHQUFhO0lBQ2IsQ0FBQyxDQUFDLE1BQUYsR0FBVztJQUNYLENBQUMsQ0FBQyxTQUFGLEdBQWM7SUFDZCxDQUFDLENBQUMsV0FBRixHQUFnQjtJQUNoQixDQUFDLENBQUMsZUFBRixHQUFvQjtJQUNwQixDQUFDLENBQUMsVUFBRixHQUFlO0lBRWYsQ0FBQyxDQUFDLE9BQUYsR0FBWSxRQUFBLENBQUEsQ0FBQTtNQUNWLENBQUMsQ0FBQyxHQUFGLEdBQVEsQ0FBQyxDQUFDLFNBQUYsQ0FBWSw4RUFBWjtJQURFO0lBSVosQ0FBQyxDQUFDLEtBQUYsR0FBVSxRQUFBLENBQUEsQ0FBQTtNQUNSLENBQUMsQ0FBQyxTQUFGLENBQUE7TUFDQSxXQUFBLENBQVksQ0FBQyxRQUFBLENBQUEsQ0FBQTtlQUFHLENBQUMsQ0FBQyxXQUFGLENBQUE7TUFBSCxDQUFELENBQVosRUFBa0MsSUFBbEM7SUFGUTtJQU1WLENBQUMsQ0FBQyxTQUFGLEdBQWMsUUFBQSxDQUFBLENBQUE7TUFDWixDQUFDLENBQUMsR0FBRixHQUFRLENBQUMsQ0FBQyxZQUFGLENBQWUsTUFBTSxDQUFDLFVBQXRCLEVBQWtDLE1BQU0sQ0FBQyxXQUF6QztNQUNSLENBQUMsQ0FBQyxLQUFGLEdBQVUsSUFBSSxDQUFDLENBQUMsS0FBTixDQUFBO01BQ1YsQ0FBQyxDQUFDLGFBQUYsQ0FBQTtNQUNBLENBQUMsQ0FBQyxRQUFGLEdBQWEsQ0FBQyxDQUFDLFdBQUYsQ0FBYyxDQUFDLENBQUMsWUFBaEIsRUFBOEIsQ0FBQyxDQUFDLFlBQWhDO01BQ2IsQ0FBQyxDQUFDLGFBQUYsR0FBa0IsQ0FBQyxDQUFDLGNBQUYsQ0FBaUIsQ0FBQyxDQUFDLFlBQW5CLEVBQWlDLENBQUMsQ0FBQyxZQUFuQztNQUNsQixDQUFDLENBQUMsYUFBYSxDQUFDLFlBQWhCLENBQTZCLENBQTdCO01BQ0EsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxRQUFoQixDQUF5QixDQUF6QixFQUE0QixDQUE1QixFQUErQixDQUFDLENBQUMsWUFBakMsRUFBK0MsQ0FBL0MsRUFBa0QsQ0FBQyxDQUFDLFlBQUYsR0FBZSxDQUFqRSxFQUFvRSxDQUFDLENBQUMsY0FBdEU7TUFDQSxDQUFDLENBQUMsWUFBRixDQUFlLENBQWY7TUFDQSxDQUFDLENBQUMsU0FBRixHQUFjLENBQUMsQ0FBQyxXQUFGLENBQWMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFwQixFQUEyQixDQUFDLENBQUMsR0FBRyxDQUFDLE1BQWpDO0lBVEY7SUFZZCxDQUFDLENBQUMsV0FBRixHQUFnQixRQUFBLENBQUEsQ0FBQTtNQUNkLENBQUMsQ0FBQyxRQUFGLEdBQWE7TUFDYixDQUFDLENBQUMsU0FBUyxDQUFDLElBQVosQ0FBaUIsQ0FBQyxDQUFDLEdBQW5CLEVBQXdCLENBQXhCLEVBQTJCLENBQTNCLEVBQThCLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBcEMsRUFBMkMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFqRCxFQUF5RCxDQUF6RCxFQUE0RCxDQUE1RCxFQUErRCxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQTNFLEVBQWtGLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBOUY7SUFGYztJQU1oQixDQUFDLENBQUMsTUFBRixHQUFXLFFBQUEsQ0FBQSxDQUFBO0FBQ1QsVUFBQSxJQUFBLEVBQUE7TUFBQSxHQUFBLEdBQU0sQ0FBQyxDQUFDO01BRVIsSUFBQSxHQUFPLFFBQUEsQ0FBQSxDQUFBO0FBQ0wsWUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBO1FBQUEsR0FBRyxDQUFDLFVBQUosQ0FBQTtRQUNBLENBQUEsR0FBSTtBQUNKLGVBQU0sQ0FBQSxHQUFJLEdBQUcsQ0FBQyxNQUFkO1VBQ0UsQ0FBQSxHQUFJO0FBQ0osaUJBQU0sQ0FBQSxHQUFJLEdBQUcsQ0FBQyxLQUFkO1lBQ0UsS0FBQSxHQUFRLENBQUMsQ0FBQSxHQUFJLENBQUEsR0FBSSxHQUFHLENBQUMsS0FBYixDQUFBLEdBQXNCO1lBQzlCLElBQUcsR0FBRyxDQUFDLE1BQU8sQ0FBQSxLQUFBLEdBQVEsQ0FBUixDQUFYLEtBQXlCLE1BQXpCLElBQXNDLEdBQUcsQ0FBQyxNQUFPLENBQUEsS0FBQSxHQUFRLENBQVIsQ0FBWCxLQUF5QixNQUFsRTtjQUNFLEdBQUcsQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFYLEdBQW9CO2NBQ3BCLEdBQUcsQ0FBQyxNQUFPLENBQUEsS0FBQSxHQUFNLENBQU4sQ0FBWCxHQUFzQjtjQUN0QixHQUFHLENBQUMsTUFBTyxDQUFBLEtBQUEsR0FBTSxDQUFOLENBQVgsR0FBc0I7Y0FDdEIsR0FBRyxDQUFDLE1BQU8sQ0FBQSxLQUFBLEdBQU0sQ0FBTixDQUFYLEdBQXNCLEVBSnhCO2FBQUEsTUFBQTtjQU1FLEdBQUcsQ0FBQyxNQUFPLENBQUEsS0FBQSxDQUFYLEdBQW9CLEdBQUcsQ0FBQyxNQUFPLENBQUEsS0FBQSxHQUFRLENBQVI7Y0FDL0IsR0FBRyxDQUFDLE1BQU8sQ0FBQSxLQUFBLEdBQU0sQ0FBTixDQUFYLEdBQXNCLEdBQUcsQ0FBQyxNQUFPLENBQUEsS0FBQSxHQUFRLENBQVIsRUFQbkM7O1lBUUEsQ0FBQTtVQVZGO1VBV0EsQ0FBQTtRQWJGO2VBY0EsR0FBRyxDQUFDLFlBQUosQ0FBQTtNQWpCSztNQW1CUCxJQUFBLENBQUE7TUFFQSxJQUFHLENBQUMsQ0FBQyxNQUFGLEtBQVksQ0FBZjtRQUNFLENBQUMsQ0FBQyxRQUFGLEdBQWE7UUFDYixDQUFDLENBQUMsTUFBRixHQUFXLEVBRmI7O0lBeEJTO0lBNkJYLENBQUMsQ0FBQyxJQUFGLEdBQVMsUUFBQSxDQUFBLENBQUE7QUFFUCxVQUFBLENBQUEsRUFBQSxHQUFBOztNQUFBLEdBQUEsR0FBTSxDQUFDLENBQUM7TUFDUixJQUFHLENBQUMsQ0FBQyxRQUFMO1FBQ0UsQ0FBQyxDQUFDLE1BQUYsSUFBWTtRQUNaLENBQUMsQ0FBQyxNQUFGLENBQUE7UUFDQSxHQUFBLEdBQU0sQ0FBQyxDQUFDLFVBSFY7T0FEQTs7TUFNQSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQVIsQ0FBQTtNQUNBLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBUixDQUFZLEdBQVo7TUFFQSxDQUFBLEdBQUk7QUFDSixhQUFNLENBQUEsR0FBSSxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQXRCO1FBQ0UsQ0FBQyxDQUFDLFNBQVUsQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUFmLENBQUE7UUFDQSxDQUFBO01BRkY7TUFJQSxDQUFDLENBQUMsU0FBRixDQUFBO0lBaEJPO0lBb0JULENBQUMsQ0FBQyxTQUFGLEdBQWMsUUFBQSxDQUFBLENBQUE7TUFDWixJQUFJLENBQUMsQ0FBQyxXQUFOO1FBQ0UsQ0FBQyxDQUFDLFFBQUYsR0FBYTtRQUNiLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBYixDQUFtQixDQUFDLENBQUMsS0FBckIsRUFBNEIsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQVQsR0FBaUIsQ0FBQyxDQUFDLGVBQS9DLEVBQWdFLENBQWhFLEVBREE7O1FBR0EsQ0FBQyxDQUFDLEdBQUYsR0FBUSxDQUFDLENBQUM7UUFDVixDQUFDLENBQUMsZUFBRixJQUFxQjtRQUNyQixJQUFHLENBQUMsQ0FBQyxDQUFDLGVBQUYsR0FBb0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUE3QixDQUFBLElBQXVDLENBQTFDO1VBQ0UsQ0FBQyxDQUFDLFdBQUYsR0FBZ0IsTUFEbEI7U0FORjs7SUFEWTtJQVdkLENBQUMsQ0FBQyxTQUFGLEdBQWMsUUFBQSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sS0FBUCxFQUFjLE1BQWQsRUFBc0IsTUFBdEIsQ0FBQTtNQUNaLElBQUMsQ0FBQSxDQUFELEdBQUs7TUFDTCxJQUFDLENBQUEsQ0FBRCxHQUFLO01BQ0wsSUFBQyxDQUFBLEtBQUQsR0FBUztNQUNULElBQUMsQ0FBQSxNQUFELEdBQVU7TUFDVixJQUFDLENBQUEsTUFBRCxHQUFVO01BRVYsSUFBQyxDQUFBLE9BQUQsR0FBVyxRQUFBLENBQUEsQ0FBQTtRQUNULENBQUMsQ0FBQyxJQUFGLENBQUE7UUFDQSxDQUFDLENBQUMsU0FBRixDQUFZLElBQUMsQ0FBQSxDQUFiLEVBQWdCLElBQUMsQ0FBQSxDQUFqQjtRQUNBLENBQUMsQ0FBQyxLQUFGLENBQVEsSUFBQyxDQUFBLE1BQVQsRUFBaUIsSUFBQyxDQUFBLE1BQWxCO1FBQ0EsQ0FBQyxDQUFDLE1BQUYsQ0FBUyxJQUFDLENBQUEsS0FBVjtRQUNBLENBQUMsQ0FBQyxLQUFGLENBQVEsQ0FBQyxDQUFDLFFBQVYsRUFBb0IsQ0FBcEIsRUFBdUIsQ0FBdkI7UUFDQSxDQUFDLENBQUMsR0FBRixDQUFBO01BTlM7SUFQQztJQWlCZCxDQUFDLENBQUMsS0FBRixHQUFVLFFBQUEsQ0FBQSxDQUFBO01BQ1IsSUFBQyxDQUFBLENBQUQsR0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBTixHQUFjLENBQUMsQ0FBQyxZQUFqQixDQUFBLEdBQStCO01BQ3BDLElBQUMsQ0FBQSxDQUFELEdBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU4sR0FBZSxDQUFDLENBQUMsY0FBbEIsQ0FBQSxHQUFrQztNQUN2QyxJQUFDLENBQUEsTUFBRCxHQUFVO01BQ1YsSUFBQyxDQUFBLE1BQUQsR0FBVTtNQUVWLElBQUMsQ0FBQSxJQUFELEdBQVEsUUFBQSxDQUFBLENBQUE7QUFDTixZQUFBLEVBQUEsRUFBQTtRQUFBLEVBQUEsR0FBSyxDQUFDLENBQUM7UUFDUCxFQUFBLEdBQUssQ0FBQyxDQUFDO1FBQ1AsSUFBRyxDQUFDLENBQUMsTUFBRixLQUFZLENBQWY7VUFDRSxFQUFBLEdBQUssSUFBQyxDQUFBO1VBQ04sRUFBQSxHQUFLLElBQUMsQ0FBQSxFQUZSOztRQUdBLElBQUMsQ0FBQSxNQUFELEdBQVUsQ0FBQyxFQUFBLEdBQUssSUFBQyxDQUFBLENBQVAsQ0FBQSxHQUFVO1FBQ3BCLElBQUMsQ0FBQSxNQUFELEdBQVUsQ0FBQyxFQUFBLEdBQUssSUFBQyxDQUFBLENBQVAsQ0FBQSxHQUFVO1FBQ3BCLElBQUMsQ0FBQSxDQUFELElBQU0sSUFBQyxDQUFBO1FBQ1AsSUFBQyxDQUFBLENBQUQsSUFBTSxJQUFDLENBQUE7TUFURDtNQVlSLElBQUMsQ0FBQSxHQUFELEdBQU8sUUFBQSxDQUFDLEdBQUQsQ0FBQTtBQUNMLFlBQUEsRUFBQSxFQUFBO1FBQUEsRUFBQSxHQUFLLENBQUMsQ0FBQyxHQUFGLENBQU0sSUFBQyxDQUFBLENBQVAsRUFBVSxDQUFWLEVBQWEsQ0FBQyxDQUFDLEtBQWYsRUFBc0IsQ0FBdEIsRUFBeUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFOLEdBQWMsQ0FBQyxDQUFDLFlBQXpDO1FBQ0wsRUFBQSxHQUFLLENBQUMsQ0FBQyxHQUFGLENBQU0sSUFBQyxDQUFBLENBQVAsRUFBVSxDQUFWLEVBQWEsQ0FBQyxDQUFDLE1BQWYsRUFBdUIsQ0FBdkIsRUFBMEIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFOLEdBQWUsQ0FBQyxDQUFDLGNBQTNDO1FBQ0wsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFYLENBQWdCLEdBQWhCLEVBQXFCLEVBQXJCLEVBQXlCLEVBQXpCLEVBQTZCLENBQUMsQ0FBQyxZQUEvQixFQUE2QyxDQUFDLENBQUMsWUFBL0MsRUFBNkQsQ0FBN0QsRUFBZ0UsQ0FBaEUsRUFBbUUsQ0FBQyxDQUFDLFlBQXJFLEVBQW1GLENBQUMsQ0FBQyxZQUFyRjtRQUNBLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBWCxDQUFnQixDQUFDLENBQUMsYUFBbEI7TUFKSztJQWxCQztJQTJCVixDQUFDLENBQUMsYUFBRixHQUFrQixRQUFBLENBQUEsQ0FBQTtNQUNoQixDQUFDLENBQUMsWUFBRixDQUFlLE1BQU0sQ0FBQyxVQUF0QixFQUFrQyxNQUFNLENBQUMsV0FBekM7TUFDQSxDQUFDLENBQUMsU0FBRixDQUFBO0lBRmdCO0lBS2xCLENBQUMsQ0FBQyxhQUFGLEdBQWtCLFFBQUEsQ0FBQSxDQUFBO0FBQ2hCLFVBQUEsQ0FBQSxFQUFBO01BQUEsQ0FBQSxHQUFJO0FBQ0osYUFBTSxDQUFBLEdBQUksQ0FBQyxDQUFDLElBQUYsQ0FBTyxDQUFDLENBQUMsTUFBRixHQUFTLENBQUMsQ0FBQyxjQUFYLEdBQTBCLENBQWpDLENBQVY7UUFDRSxDQUFBLEdBQUk7QUFDSixlQUFNLENBQUEsR0FBSSxDQUFDLENBQUMsSUFBRixDQUFPLENBQUMsQ0FBQyxLQUFGLEdBQVEsQ0FBQyxDQUFDLFlBQVYsR0FBdUIsQ0FBOUIsQ0FBVjtVQUNFLENBQUMsQ0FBQyxTQUFVLENBQUEsRUFBRSxDQUFDLENBQUMsQ0FBSixDQUFaLEdBQXFCLElBQUksQ0FBQyxDQUFDLFNBQU4sQ0FBZ0IsQ0FBQSxHQUFJLENBQUEsR0FBRSxDQUFDLENBQUMsWUFBSixHQUFpQixDQUFyQyxFQUF3QyxDQUFBLEdBQUksQ0FBQSxHQUFFLENBQUMsQ0FBQyxjQUFKLEdBQW1CLENBQS9ELEVBQWtFLENBQUMsQ0FBQyxFQUFGLEdBQUssQ0FBdkUsRUFBMEUsQ0FBQyxDQUEzRSxFQUE4RSxDQUE5RTtVQUNyQixDQUFDLENBQUMsU0FBVSxDQUFBLEVBQUUsQ0FBQyxDQUFDLENBQUosQ0FBWixHQUFxQixJQUFJLENBQUMsQ0FBQyxTQUFOLENBQWdCLENBQUEsR0FBSSxDQUFBLEdBQUUsQ0FBQyxDQUFDLFlBQUosR0FBaUIsQ0FBckMsRUFBd0MsQ0FBQSxHQUFJLENBQUEsR0FBRSxDQUFDLENBQUMsY0FBSixHQUFtQixDQUEvRCxFQUFrRSxDQUFsRSxFQUFxRSxDQUFyRSxFQUF3RSxDQUF4RTtVQUNyQixDQUFDLENBQUMsU0FBVSxDQUFBLEVBQUUsQ0FBQyxDQUFDLENBQUosQ0FBWixHQUFxQixJQUFJLENBQUMsQ0FBQyxTQUFOLENBQWdCLENBQUMsQ0FBQyxZQUFGLEdBQWUsQ0FBZixHQUFpQixDQUFqQixHQUFxQixDQUFBLEdBQUUsQ0FBQyxDQUFDLFlBQUosR0FBaUIsQ0FBdEQsRUFBeUQsQ0FBQyxDQUFDLGNBQUYsR0FBbUIsQ0FBQSxHQUFFLENBQUMsQ0FBQyxjQUFKLEdBQW1CLENBQS9GLEVBQWtHLENBQUMsQ0FBQyxDQUFDLEVBQUgsR0FBTSxDQUF4RyxFQUEyRyxDQUFDLENBQTVHLEVBQStHLENBQS9HO1VBQ3JCLENBQUMsQ0FBQyxTQUFVLENBQUEsRUFBRSxDQUFDLENBQUMsQ0FBSixDQUFaLEdBQXFCLElBQUksQ0FBQyxDQUFDLFNBQU4sQ0FBZ0IsQ0FBQyxDQUFDLFlBQUYsR0FBZSxDQUFmLEdBQWlCLENBQWpCLEdBQXFCLENBQUEsR0FBRSxDQUFDLENBQUMsWUFBSixHQUFpQixDQUF0RCxFQUF5RCxDQUFDLENBQUMsY0FBRixHQUFtQixDQUFBLEdBQUUsQ0FBQyxDQUFDLGNBQUosR0FBbUIsQ0FBL0YsRUFBa0csQ0FBQyxDQUFDLEVBQUYsR0FBSyxDQUF2RyxFQUEwRyxDQUFDLENBQTNHLEVBQThHLENBQUMsQ0FBL0c7VUFDckIsQ0FBQyxDQUFDLFNBQVUsQ0FBQSxFQUFFLENBQUMsQ0FBQyxDQUFKLENBQVosR0FBcUIsSUFBSSxDQUFDLENBQUMsU0FBTixDQUFnQixDQUFDLENBQUMsWUFBRixHQUFlLENBQWYsR0FBaUIsQ0FBakIsR0FBb0IsQ0FBQSxHQUFFLENBQUMsQ0FBQyxZQUFKLEdBQWlCLENBQXJELEVBQXdELENBQUMsQ0FBQyxjQUFGLEdBQW1CLENBQUEsR0FBRSxDQUFDLENBQUMsY0FBSixHQUFtQixDQUE5RixFQUFpRyxDQUFqRyxFQUFvRyxDQUFwRyxFQUF1RyxDQUFDLENBQXhHO1VBQ3JCLENBQUMsQ0FBQyxTQUFVLENBQUEsRUFBRSxDQUFDLENBQUMsQ0FBSixDQUFaLEdBQXFCLElBQUksQ0FBQyxDQUFDLFNBQU4sQ0FBZ0IsQ0FBQyxDQUFDLFlBQUYsR0FBZSxDQUFmLEdBQW1CLENBQUEsR0FBRSxDQUFDLENBQUMsWUFBSixHQUFpQixDQUFwRCxFQUF1RCxDQUFBLEdBQUksQ0FBQSxHQUFFLENBQUMsQ0FBQyxjQUFKLEdBQW1CLENBQTlFLEVBQWlGLENBQUMsQ0FBQyxDQUFDLEVBQUgsR0FBTSxDQUF2RixFQUEwRixDQUFDLENBQTNGLEVBQThGLENBQUMsQ0FBL0Y7VUFFckIsQ0FBQyxDQUFDLFNBQVUsQ0FBQSxFQUFFLENBQUMsQ0FBQyxDQUFKLENBQVosR0FBcUIsSUFBSSxDQUFDLENBQUMsU0FBTixDQUFnQixDQUFBLEdBQUUsQ0FBQyxDQUFDLFlBQUosR0FBbUIsQ0FBQSxHQUFFLENBQUMsQ0FBQyxZQUFKLEdBQWlCLENBQXBELEVBQXVELENBQUEsR0FBSSxDQUFBLEdBQUUsQ0FBQyxDQUFDLGNBQUosR0FBbUIsQ0FBOUUsRUFBaUYsQ0FBQyxDQUFDLEVBQUYsR0FBSyxDQUF0RixFQUF5RixDQUFDLENBQTFGLEVBQTZGLENBQTdGO1VBRXJCLENBQUMsQ0FBQyxTQUFVLENBQUEsRUFBRSxDQUFDLENBQUMsQ0FBSixDQUFaLEdBQXFCLElBQUksQ0FBQyxDQUFDLFNBQU4sQ0FBZ0IsQ0FBQSxHQUFJLENBQUEsR0FBRSxDQUFDLENBQUMsWUFBSixHQUFpQixDQUFyQyxFQUF3QyxDQUFDLENBQUMsY0FBRixHQUFpQixDQUFqQixHQUFxQixDQUFBLEdBQUUsQ0FBQyxDQUFDLGNBQUosR0FBbUIsQ0FBaEYsRUFBbUYsQ0FBQyxDQUFDLEVBQUYsR0FBSyxDQUF4RixFQUEyRixDQUFDLENBQTVGLEVBQStGLENBQUMsQ0FBaEc7VUFDckIsQ0FBQyxDQUFDLFNBQVUsQ0FBQSxFQUFFLENBQUMsQ0FBQyxDQUFKLENBQVosR0FBcUIsSUFBSSxDQUFDLENBQUMsU0FBTixDQUFnQixDQUFBLEdBQUksQ0FBQSxHQUFFLENBQUMsQ0FBQyxZQUFKLEdBQWlCLENBQXJDLEVBQXdDLENBQUMsQ0FBQyxjQUFGLEdBQWlCLENBQWpCLEdBQXFCLENBQUEsR0FBRSxDQUFDLENBQUMsY0FBSixHQUFtQixDQUFoRixFQUFtRixDQUFuRixFQUFzRixDQUF0RixFQUF5RixDQUFDLENBQTFGO1VBQ3JCLENBQUMsQ0FBQyxTQUFVLENBQUEsRUFBRSxDQUFDLENBQUMsQ0FBSixDQUFaLEdBQXFCLElBQUksQ0FBQyxDQUFDLFNBQU4sQ0FBZ0IsQ0FBQyxDQUFDLFlBQUYsR0FBZSxDQUFmLEdBQWlCLENBQWpCLEdBQXFCLENBQUEsR0FBRSxDQUFDLENBQUMsWUFBSixHQUFpQixDQUF0RCxFQUF5RCxDQUFDLENBQUMsY0FBRixHQUFtQixDQUFBLEdBQUUsQ0FBQyxDQUFDLGNBQUosR0FBbUIsQ0FBL0YsRUFBa0csQ0FBQyxDQUFDLENBQUMsRUFBSCxHQUFNLENBQXhHLEVBQTJHLENBQUMsQ0FBNUcsRUFBK0csQ0FBQyxDQUFoSDtVQUNyQixDQUFDLENBQUMsU0FBVSxDQUFBLEVBQUUsQ0FBQyxDQUFDLENBQUosQ0FBWixHQUFxQixJQUFJLENBQUMsQ0FBQyxTQUFOLENBQWdCLENBQUMsQ0FBQyxZQUFGLEdBQWUsQ0FBZixHQUFpQixDQUFqQixHQUFxQixDQUFBLEdBQUUsQ0FBQyxDQUFDLFlBQUosR0FBaUIsQ0FBdEQsRUFBeUQsQ0FBQyxDQUFDLGNBQUYsR0FBbUIsQ0FBQSxHQUFFLENBQUMsQ0FBQyxjQUFKLEdBQW1CLENBQS9GLEVBQWtHLENBQUMsQ0FBQyxFQUFGLEdBQUssQ0FBdkcsRUFBMEcsQ0FBQyxDQUEzRyxFQUE4RyxDQUE5RztVQUNyQixDQUFDLENBQUMsU0FBVSxDQUFBLEVBQUUsQ0FBQyxDQUFDLENBQUosQ0FBWixHQUFxQixJQUFJLENBQUMsQ0FBQyxTQUFOLENBQWdCLENBQUMsQ0FBQyxZQUFGLEdBQWUsQ0FBZixHQUFpQixDQUFqQixHQUFxQixDQUFBLEdBQUUsQ0FBQyxDQUFDLFlBQUosR0FBaUIsQ0FBdEQsRUFBeUQsQ0FBQyxDQUFDLGNBQUYsR0FBbUIsQ0FBQSxHQUFFLENBQUMsQ0FBQyxjQUFKLEdBQW1CLENBQS9GLEVBQWtHLENBQWxHLEVBQXFHLENBQXJHLEVBQXdHLENBQXhHO1VBQ3JCLENBQUMsQ0FBQyxTQUFVLENBQUEsRUFBRSxDQUFDLENBQUMsQ0FBSixDQUFaLEdBQXFCLElBQUksQ0FBQyxDQUFDLFNBQU4sQ0FBZ0IsQ0FBQyxDQUFDLFlBQUYsR0FBZSxDQUFmLEdBQW1CLENBQUEsR0FBRSxDQUFDLENBQUMsWUFBSixHQUFpQixDQUFwRCxFQUF1RCxDQUFDLENBQUMsY0FBRixHQUFpQixDQUFqQixHQUFxQixDQUFBLEdBQUUsQ0FBQyxDQUFDLGNBQUosR0FBbUIsQ0FBL0YsRUFBa0csQ0FBQyxDQUFDLENBQUMsRUFBSCxHQUFNLENBQXhHLEVBQTJHLENBQUMsQ0FBNUcsRUFBK0csQ0FBL0c7VUFDckIsQ0FBQyxDQUFDLFNBQVUsQ0FBQSxFQUFFLENBQUMsQ0FBQyxDQUFKLENBQVosR0FBcUIsSUFBSSxDQUFDLENBQUMsU0FBTixDQUFnQixDQUFBLEdBQUUsQ0FBQyxDQUFDLFlBQUosR0FBbUIsQ0FBQSxHQUFFLENBQUMsQ0FBQyxZQUFKLEdBQWlCLENBQXBELEVBQXVELENBQUMsQ0FBQyxjQUFGLEdBQWlCLENBQWpCLEdBQXFCLENBQUEsR0FBRSxDQUFDLENBQUMsY0FBSixHQUFtQixDQUEvRixFQUFrRyxDQUFDLENBQUMsRUFBRixHQUFLLENBQXZHLEVBQTBHLENBQUMsQ0FBM0csRUFBOEcsQ0FBQyxDQUEvRztVQUNyQixDQUFBO1FBakJGO1FBa0JBLENBQUE7TUFwQkY7SUFGZ0I7SUF5QmxCLEVBQUUsQ0FBQyxVQUFVLENBQUMsV0FBZCxHQUE0QixRQUFBLENBQUMsUUFBRCxFQUFXLEVBQVgsRUFBZSxFQUFmLEVBQW1CLEVBQW5CLEVBQXVCLEVBQXZCLEVBQTJCLEVBQTNCLEVBQStCLEVBQS9CLEVBQW1DLEVBQW5DLEVBQXVDLEVBQXZDLENBQUE7QUFDMUIsVUFBQTtNQUFBLElBQUcsUUFBQSxZQUFvQixFQUFFLENBQUMsS0FBMUI7UUFDRSxDQUFDLENBQUMsTUFBRixHQUFXLFFBQVEsQ0FBQyxPQUR0QjtPQUFBLE1BRUssSUFBRyxRQUFBLFlBQW9CLEVBQUUsQ0FBQyxRQUExQjtRQUNILFFBQVEsQ0FBQyxVQUFULENBQUE7UUFDQSxDQUFDLENBQUMsTUFBRixHQUFXLFFBQVEsQ0FBQyxJQUZqQjs7TUFHTCxDQUFBLEdBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFULEdBQWlCLFFBQVEsQ0FBQztNQUM5QixJQUFDLENBQUEsY0FBYyxDQUFDLFNBQWhCLENBQTBCLENBQUMsQ0FBQyxNQUE1QixFQUFvQyxDQUFBLEdBQUksRUFBeEMsRUFBNEMsQ0FBQSxHQUFJLEVBQWhELEVBQW9ELENBQUEsR0FBSSxFQUF4RCxFQUE0RCxDQUFBLEdBQUksRUFBaEUsRUFBb0UsRUFBcEUsRUFBd0UsRUFBeEUsRUFBNEUsRUFBNUUsRUFBZ0YsRUFBaEY7SUFQMEI7RUFwTGhCLENBQVA7QUFBUCIsInNvdXJjZXNDb250ZW50IjpbIm15cDUgPSBuZXcgcDUgKHApIC0+XG4gIHAuaiA9IC0xXG4gIHAuY2FjaGVUcmlhbmdsZSA9ICcnXG4gIHAuaW1nX2NvcHkgPSAnJ1xuICBwLnRyaWFuZ2xlU2l6ZSA9IDM1MFxuICBwLnRyaWFuZ2xlSGVpZ2h0ID0gcC50cmlhbmdsZVNpemUgKiBwLnNxcnQoMykvMlxuICBwLnRyaWFuZ2xlcyA9IFtdXG4gIHAuY2FjaGUgPSAnJ1xuICBwLmNhbnZhcyA9IHt9XG4gIHAuY252ID0ge31cbiAgcC5pbWcgPSAnJ1xuICBwLmRvR2xpdGNoID0gZmFsc2VcbiAgcC5vZmZzZXQgPSAwXG4gIHAuaW1nR2xpdGNoID0gJydcbiAgcC5kb0NoYW5nZUltZyA9IGZhbHNlXG4gIHAub2Zmc2V0Q2hhbmdlSW1nID0gMFxuICBwLmNoYW5nZUltZ0cgPSAnJ1xuXG4gIHAucHJlbG9hZCA9IC0+XG4gICAgcC5pbWcgPSBwLmxvYWRJbWFnZSgnaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vNzA5OTI3L09lZm5lcl9NRl8wOC01OTB4MzkzLmpwZycpXG4gICAgcmV0dXJuXG5cbiAgcC5zZXR1cCA9IC0+XG4gICAgcC5pbml0U2V0dXAoKVxuICAgIHNldEludGVydmFsICgtPiBwLnNldERvR2xpdGNoKCkpLCA3MDAwXG5cbiAgICByZXR1cm5cblxuICBwLmluaXRTZXR1cCA9IC0+XG4gICAgcC5jbnYgPSBwLmNyZWF0ZUNhbnZhcyB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0XG4gICAgcC5jYWNoZSA9IG5ldyBwLkNhY2hlKClcbiAgICBwLmluaXRUcmlhbmdsZXMoKVxuICAgIHAuaW1nX2NvcHkgPSBwLmNyZWF0ZUltYWdlIHAudHJpYW5nbGVTaXplLCBwLnRyaWFuZ2xlU2l6ZVxuICAgIHAuY2FjaGVUcmlhbmdsZSA9IHAuY3JlYXRlR3JhcGhpY3MgcC50cmlhbmdsZVNpemUsIHAudHJpYW5nbGVTaXplXG4gICAgcC5jYWNoZVRyaWFuZ2xlLnN0cm9rZVdlaWdodCAwO1xuICAgIHAuY2FjaGVUcmlhbmdsZS50cmlhbmdsZSAwLCAwLCBwLnRyaWFuZ2xlU2l6ZSwgMCwgcC50cmlhbmdsZVNpemUvMiwgcC50cmlhbmdsZUhlaWdodFxuICAgIHAucGl4ZWxEZW5zaXR5IDFcbiAgICBwLmltZ0dsaXRjaCA9IHAuY3JlYXRlSW1hZ2UgcC5pbWcud2lkdGgsIHAuaW1nLmhlaWdodFxuICAgIHJldHVyblxuXG4gIHAuc2V0RG9HbGl0Y2ggPSAtPlxuICAgIHAuZG9HbGl0Y2ggPSB0cnVlXG4gICAgcC5pbWdHbGl0Y2guY29weSBwLmltZywgMCwgMCwgcC5pbWcud2lkdGgsIHAuaW1nLmhlaWdodCwgMCwgMCwgcC5pbWdHbGl0Y2gud2lkdGgsIHAuaW1nR2xpdGNoLmhlaWdodFxuXG4gICAgcmV0dXJuXG5cbiAgcC5nbGl0Y2ggPSAtPlxuICAgIGltZyA9IHAuaW1nR2xpdGNoXG5cbiAgICBkcmF3ID0gLT5cbiAgICAgIGltZy5sb2FkUGl4ZWxzKClcbiAgICAgIHkgPSAwXG4gICAgICB3aGlsZSB5IDwgaW1nLmhlaWdodFxuICAgICAgICB4ID0gMFxuICAgICAgICB3aGlsZSB4IDwgaW1nLndpZHRoXG4gICAgICAgICAgaW5kZXggPSAoeCArIHkgKiBpbWcud2lkdGgpICogNFxuICAgICAgICAgIGlmIGltZy5waXhlbHNbaW5kZXggKyA0XSA9PSB1bmRlZmluZWQgfHwgaW1nLnBpeGVsc1tpbmRleCArIDldID09IHVuZGVmaW5lZFxuICAgICAgICAgICAgaW1nLnBpeGVsc1tpbmRleF0gPSAwXG4gICAgICAgICAgICBpbWcucGl4ZWxzW2luZGV4KzFdID0gMFxuICAgICAgICAgICAgaW1nLnBpeGVsc1tpbmRleCsyXSA9IDBcbiAgICAgICAgICAgIGltZy5waXhlbHNbaW5kZXgrM10gPSAwXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgaW1nLnBpeGVsc1tpbmRleF0gPSBpbWcucGl4ZWxzW2luZGV4ICsgNF07XG4gICAgICAgICAgICBpbWcucGl4ZWxzW2luZGV4KzFdID0gaW1nLnBpeGVsc1tpbmRleCArIDldO1xuICAgICAgICAgIHgrK1xuICAgICAgICB5KytcbiAgICAgIGltZy51cGRhdGVQaXhlbHMoKVxuXG4gICAgZHJhdygpXG5cbiAgICBpZiBwLm9mZnNldCA9PSA1XG4gICAgICBwLmRvR2xpdGNoID0gZmFsc2VcbiAgICAgIHAub2Zmc2V0ID0gMFxuICAgIHJldHVyblxuXG4gIHAuZHJhdyA9IC0+XG4gICAgI3AucHJpbnQgcC5kb0NoYW5nZUltZ1xuICAgIGltZyA9IHAuaW1nXG4gICAgaWYgcC5kb0dsaXRjaFxuICAgICAgcC5vZmZzZXQgKz0gMVxuICAgICAgcC5nbGl0Y2goKVxuICAgICAgaW1nID0gcC5pbWdHbGl0Y2hcbiAgICAjZWxzZVxuICAgIHAuY2FjaGUubW92ZSgpXG4gICAgcC5jYWNoZS5jdXQoaW1nKVxuXG4gICAgaSA9IDBcbiAgICB3aGlsZSBpIDwgcC50cmlhbmdsZXMubGVuZ3RoXG4gICAgICBwLnRyaWFuZ2xlc1tpXS5kaXNwbGF5KClcbiAgICAgIGkrK1xuXG4gICAgcC5jaGFuZ2VJbWcoKVxuXG4gICAgcmV0dXJuXG5cbiAgcC5jaGFuZ2VJbWcgPSAtPlxuICAgIGlmIChwLmRvQ2hhbmdlSW1nKVxuICAgICAgcC5kb0dsaXRjaCA9IGZhbHNlXG4gICAgICBwLmNoYW5nZUltZ0cuaW1hZ2UgcC5pbWdfYywgLXAuaW1nX2Mud2lkdGggKyBwLm9mZnNldENoYW5nZUltZywgMFxuICAgICAgI3AuaW1nLmltYWdlIHAuaW1nX2MsIDAsIDAsIDEwMCwgMTAwXG4gICAgICBwLmltZyA9IHAuY2hhbmdlSW1nR1xuICAgICAgcC5vZmZzZXRDaGFuZ2VJbWcgKz0gNVxuICAgICAgaWYgKHAub2Zmc2V0Q2hhbmdlSW1nIC0gcC5pbWdfYy53aWR0aCkgPj0gMFxuICAgICAgICBwLmRvQ2hhbmdlSW1nID0gZmFsc2VcbiAgICByZXR1cm5cblxuICBwLmtUcmlhbmdsZSA9ICh4LCB5LCBhbmdsZSwgc2NhbGVYLCBzY2FsZVkpIC0+XG4gICAgQHggPSB4XG4gICAgQHkgPSB5XG4gICAgQGFuZ2xlID0gYW5nbGVcbiAgICBAc2NhbGVYID0gc2NhbGVYXG4gICAgQHNjYWxlWSA9IHNjYWxlWVxuXG4gICAgQGRpc3BsYXkgPSAtPlxuICAgICAgcC5wdXNoKClcbiAgICAgIHAudHJhbnNsYXRlIEB4LCBAeVxuICAgICAgcC5zY2FsZSBAc2NhbGVYLCBAc2NhbGVZXG4gICAgICBwLnJvdGF0ZSBAYW5nbGVcbiAgICAgIHAuaW1hZ2UgcC5pbWdfY29weSwgMCwgMFxuICAgICAgcC5wb3AoKVxuICAgICAgcmV0dXJuXG4gICAgcmV0dXJuXG5cbiAgcC5DYWNoZSA9IC0+XG4gICAgQHggPSAocC5pbWcud2lkdGggLSBwLnRyaWFuZ2xlU2l6ZSkvMlxuICAgIEB5ID0gKHAuaW1nLmhlaWdodCAtIHAudHJpYW5nbGVIZWlnaHQpLzJcbiAgICBAc3BlZWRYID0gMDtcbiAgICBAc3BlZWRZID0gMDtcblxuICAgIEBtb3ZlID0gLT5cbiAgICAgIG14ID0gcC5tb3VzZVhcbiAgICAgIG15ID0gcC5tb3VzZVlcbiAgICAgIGlmIHAubW91c2VYID09IDBcbiAgICAgICAgbXggPSBAeFxuICAgICAgICBteSA9IEB5XG4gICAgICBAc3BlZWRYID0gKG14IC0gQHgpLzIwO1xuICAgICAgQHNwZWVkWSA9IChteSAtIEB5KS8yMDtcbiAgICAgIEB4ICs9IEBzcGVlZFg7XG4gICAgICBAeSArPSBAc3BlZWRZO1xuICAgICAgcmV0dXJuXG5cbiAgICBAY3V0ID0gKGltZykgLT5cbiAgICAgIG14ID0gcC5tYXAgQHgsIDAsIHAud2lkdGgsIDAsIHAuaW1nLndpZHRoIC0gcC50cmlhbmdsZVNpemVcbiAgICAgIG15ID0gcC5tYXAgQHksIDAsIHAuaGVpZ2h0LCAwLCBwLmltZy5oZWlnaHQgLSBwLnRyaWFuZ2xlSGVpZ2h0XG4gICAgICBwLmltZ19jb3B5LmNvcHkgaW1nLCBteCwgbXksIHAudHJpYW5nbGVTaXplLCBwLnRyaWFuZ2xlU2l6ZSwgMCwgMCwgcC50cmlhbmdsZVNpemUsIHAudHJpYW5nbGVTaXplXG4gICAgICBwLmltZ19jb3B5Lm1hc2sgcC5jYWNoZVRyaWFuZ2xlXG4gICAgICByZXR1cm5cblxuICAgIHJldHVyblxuXG4gIHAud2luZG93UmVzaXplZCA9IC0+XG4gICAgcC5yZXNpemVDYW52YXMgd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodFxuICAgIHAuaW5pdFNldHVwKClcbiAgICByZXR1cm5cblxuICBwLmluaXRUcmlhbmdsZXMgPSAtPlxuICAgIGggPSAwXG4gICAgd2hpbGUgaCA8IHAuY2VpbChwLmhlaWdodC9wLnRyaWFuZ2xlSGVpZ2h0LzIpXG4gICAgICBpID0gMFxuICAgICAgd2hpbGUgaSA8IHAuY2VpbChwLndpZHRoL3AudHJpYW5nbGVTaXplLzMpXG4gICAgICAgIHAudHJpYW5nbGVzWysrcC5qXSA9IG5ldyBwLmtUcmlhbmdsZSgwICsgMypwLnRyaWFuZ2xlU2l6ZSppLCAwICsgMipwLnRyaWFuZ2xlSGVpZ2h0KmgsIHAuUEkvMywgLTEsIDEpO1xuICAgICAgICBwLnRyaWFuZ2xlc1srK3Aual0gPSBuZXcgcC5rVHJpYW5nbGUoMCArIDMqcC50cmlhbmdsZVNpemUqaSwgMCArIDIqcC50cmlhbmdsZUhlaWdodCpoLCAwLCAxLCAxKTtcbiAgICAgICAgcC50cmlhbmdsZXNbKytwLmpdID0gbmV3IHAua1RyaWFuZ2xlKHAudHJpYW5nbGVTaXplKjMvMiArIDMqcC50cmlhbmdsZVNpemUqaSwgcC50cmlhbmdsZUhlaWdodCArIDIqcC50cmlhbmdsZUhlaWdodCpoLCAtcC5QSS8zLCAtMSwgMSk7XG4gICAgICAgIHAudHJpYW5nbGVzWysrcC5qXSA9IG5ldyBwLmtUcmlhbmdsZShwLnRyaWFuZ2xlU2l6ZSozLzIgKyAzKnAudHJpYW5nbGVTaXplKmksIHAudHJpYW5nbGVIZWlnaHQgKyAyKnAudHJpYW5nbGVIZWlnaHQqaCwgcC5QSS8zLCAtMSwgLTEpO1xuICAgICAgICBwLnRyaWFuZ2xlc1srK3Aual0gPSBuZXcgcC5rVHJpYW5nbGUocC50cmlhbmdsZVNpemUqMy8yICszKnAudHJpYW5nbGVTaXplKmksIHAudHJpYW5nbGVIZWlnaHQgKyAyKnAudHJpYW5nbGVIZWlnaHQqaCwgMCwgMSwgLTEpO1xuICAgICAgICBwLnRyaWFuZ2xlc1srK3Aual0gPSBuZXcgcC5rVHJpYW5nbGUocC50cmlhbmdsZVNpemUqMyArIDMqcC50cmlhbmdsZVNpemUqaSwgMCArIDIqcC50cmlhbmdsZUhlaWdodCpoLCAtcC5QSS8zLCAtMSwgLTEpO1xuXG4gICAgICAgIHAudHJpYW5nbGVzWysrcC5qXSA9IG5ldyBwLmtUcmlhbmdsZSgzKnAudHJpYW5nbGVTaXplICsgMypwLnRyaWFuZ2xlU2l6ZSppLCAwICsgMipwLnRyaWFuZ2xlSGVpZ2h0KmgsIHAuUEkvMywgLTEsIDEpO1xuXG4gICAgICAgIHAudHJpYW5nbGVzWysrcC5qXSA9IG5ldyBwLmtUcmlhbmdsZSgwICsgMypwLnRyaWFuZ2xlU2l6ZSppLCBwLnRyaWFuZ2xlSGVpZ2h0KjIgKyAyKnAudHJpYW5nbGVIZWlnaHQqaCwgcC5QSS8zLCAtMSwgLTEpO1xuICAgICAgICBwLnRyaWFuZ2xlc1srK3Aual0gPSBuZXcgcC5rVHJpYW5nbGUoMCArIDMqcC50cmlhbmdsZVNpemUqaSwgcC50cmlhbmdsZUhlaWdodCoyICsgMipwLnRyaWFuZ2xlSGVpZ2h0KmgsIDAsIDEsIC0xKTtcbiAgICAgICAgcC50cmlhbmdsZXNbKytwLmpdID0gbmV3IHAua1RyaWFuZ2xlKHAudHJpYW5nbGVTaXplKjMvMiArIDMqcC50cmlhbmdsZVNpemUqaSwgcC50cmlhbmdsZUhlaWdodCArIDIqcC50cmlhbmdsZUhlaWdodCpoLCAtcC5QSS8zLCAtMSwgLTEpO1xuICAgICAgICBwLnRyaWFuZ2xlc1srK3Aual0gPSBuZXcgcC5rVHJpYW5nbGUocC50cmlhbmdsZVNpemUqMy8yICsgMypwLnRyaWFuZ2xlU2l6ZSppLCBwLnRyaWFuZ2xlSGVpZ2h0ICsgMipwLnRyaWFuZ2xlSGVpZ2h0KmgsIHAuUEkvMywgLTEsIDEpO1xuICAgICAgICBwLnRyaWFuZ2xlc1srK3Aual0gPSBuZXcgcC5rVHJpYW5nbGUocC50cmlhbmdsZVNpemUqMy8yICsgMypwLnRyaWFuZ2xlU2l6ZSppLCBwLnRyaWFuZ2xlSGVpZ2h0ICsgMipwLnRyaWFuZ2xlSGVpZ2h0KmgsIDAsIDEsIDEpO1xuICAgICAgICBwLnRyaWFuZ2xlc1srK3Aual0gPSBuZXcgcC5rVHJpYW5nbGUocC50cmlhbmdsZVNpemUqMyArIDMqcC50cmlhbmdsZVNpemUqaSwgcC50cmlhbmdsZUhlaWdodCoyICsgMipwLnRyaWFuZ2xlSGVpZ2h0KmgsIC1wLlBJLzMsIC0xLCAxKTtcbiAgICAgICAgcC50cmlhbmdsZXNbKytwLmpdID0gbmV3IHAua1RyaWFuZ2xlKDMqcC50cmlhbmdsZVNpemUgKyAzKnAudHJpYW5nbGVTaXplKmksIHAudHJpYW5nbGVIZWlnaHQqMiArIDIqcC50cmlhbmdsZUhlaWdodCpoLCBwLlBJLzMsIC0xLCAtMSk7XG4gICAgICAgIGkrK1xuICAgICAgaCsrXG4gICAgcmV0dXJuXG5cbiAgcDUuUmVuZGVyZXIyRC5fY29weUhlbHBlciA9IChzcmNJbWFnZSwgc3gsIHN5LCBzdywgc2gsIGR4LCBkeSwgZHcsIGRoKSAtPlxuICAgIGlmIHNyY0ltYWdlIGluc3RhbmNlb2YgcDUuSW1hZ2VcbiAgICAgIHAuY2FudmFzID0gc3JjSW1hZ2UuY2FudmFzXG4gICAgZWxzZSBpZiBzcmNJbWFnZSBpbnN0YW5jZW9mIHA1LkdyYXBoaWNzXG4gICAgICBzcmNJbWFnZS5sb2FkUGl4ZWxzKClcbiAgICAgIHAuY2FudmFzID0gc3JjSW1hZ2UuZWx0XG4gICAgcyA9IHAuY2FudmFzLndpZHRoIC8gc3JjSW1hZ2Uud2lkdGhcbiAgICBAZHJhd2luZ0NvbnRleHQuZHJhd0ltYWdlIHAuY2FudmFzLCBzICogc3gsIHMgKiBzeSwgcyAqIHN3LCBzICogc2gsIGR4LCBkeSwgZHcsIGRoXG4gICAgcmV0dXJuXG4gIHJldHVybiJdfQ==
//# sourceURL=coffeescript